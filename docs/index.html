<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego del Ahorcado</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body class="theme-dark">
    <div class="app">
        <header class="header">
            <div class="branding">
                <p class="eyebrow">Version web avanzada inspirada en la consola Java</p>
                <h1>Juego del Ahorcado</h1>
                <p class="subtitle">Modos clasico, contrarreloj, dos jugadores y palabra del dia. Categorias y dificultades configurables.</p>
            </div>
            <div class="header-actions">
                <button id="btnTema" class="btn fantasma" aria-label="Cambiar tema">Tema: Oscuro</button>
                <button id="btnNueva" class="btn primario">Nueva partida</button>
                <button id="btnResetStats" class="btn fantasma">Reiniciar estadisticas y logros</button>
            </div>
        </header>

        <section class="config-panel panel">
            <div class="config-grid">
                <label class="campo">
                    <span>Modo de juego</span>
                    <select id="modoSelect">
                        <option value="clasico">Clasico (vidas limitadas)</option>
                        <option value="contrarreloj">Contrarreloj (vence al tiempo)</option>
                        <option value="dos_jugadores">Dos jugadores (palabra oculta)</option>
                        <option value="palabra_dia">Palabra del dia (una al dia)</option>
                    </select>
                </label>
                <label class="campo">
                    <span>Categoria</span>
                    <select id="categoriaSelect">
                        <option value="basico">Basico</option>
                        <option value="avanzado">Avanzado</option>
                        <option value="peliculas">Peliculas</option>
                        <option value="animales">Animales</option>
                    </select>
                </label>
                <label class="campo">
                    <span>Dificultad</span>
                    <select id="dificultadSelect">
                        <option value="facil">Facil</option>
                        <option value="normal">Normal</option>
                        <option value="dificil">Dificil</option>
                    </select>
                </label>
                <label class="campo" id="campoTiempo" hidden>
                    <span>Tiempo (segundos)</span>
                    <input id="tiempoInput" type="number" min="20" max="240" step="5" value="70">
                </label>
                <label class="campo" id="campoPalabra" hidden>
                    <span>Palabra secreta (solo letras)</span>
                    <input id="palabraInput" type="password" autocomplete="off" placeholder="Solo la ve el Jugador 1">
                </label>
            </div>
            <p class="nota" id="infoDiaria">Racha diaria: --</p>
        </section>

        <main class="tablero">
            <section class="panel panel-dibujo" role="img" aria-label="Estado del ahorcado">
                <div class="svg-wrapper" id="svgWrapper">
                    <svg id="svgAhorcado" viewBox="0 0 200 240" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <line class="svg-base" x1="20" y1="230" x2="180" y2="230" />
                        <line class="svg-poste" x1="60" y1="230" x2="60" y2="30" />
                        <line class="svg-barra" x1="60" y1="30" x2="140" y2="30" />
                        <line class="svg-soporte" x1="90" y1="60" x2="60" y2="30" />
                        <line class="svg-cuerda" x1="140" y1="30" x2="140" y2="60" />
                        <circle id="parte-1" class="svg-parte" cx="140" cy="78" r="16" />
                        <line id="parte-2" class="svg-parte" x1="140" y1="94" x2="140" y2="140" />
                        <line id="parte-3" class="svg-parte" x1="140" y1="110" x2="120" y2="130" />
                        <line id="parte-4" class="svg-parte" x1="140" y1="110" x2="160" y2="130" />
                        <line id="parte-5" class="svg-parte" x1="140" y1="140" x2="120" y2="170" />
                        <line id="parte-6" class="svg-parte" x1="140" y1="140" x2="160" y2="170" />
                    </svg>
                </div>
                <div class="indicadores">
                    <div class="indicador">
                        <div class="indicador-encabezado">
                            <span>Vidas</span>
                            <span id="vidasTexto">0/0</span>
                        </div>
                        <div class="barra barra-vidas"><div id="barraVidas" class="relleno"></div></div>
                    </div>
                    <div class="indicador" id="bloqueTiempo">
                        <div class="indicador-encabezado">
                            <span>Tiempo</span>
                            <span id="tiempoTexto">--</span>
                        </div>
                        <div class="barra barra-tiempo"><div id="barraTiempo" class="relleno"></div></div>
                    </div>
                </div>
            </section>

            <section class="panel panel-palabra">
                <div id="palabraOculta" class="palabra-oculta">_ _ _ _</div>
                <div id="mensajePrincipal" class="mensaje" aria-live="polite"></div>
                <div class="acciones">
                    <button id="btnPista" class="btn secundario">Pista (-1 vida)</button>
                    <div class="resolver">
                        <input id="resolverInput" type="text" autocomplete="off" placeholder="Resolver palabra completa">
                        <button id="btnResolver" class="btn">Resolver</button>
                    </div>
                </div>
            </section>
        </main>

        <section class="panel panel-teclado">
            <div class="panel-cabecera">
                <p>Teclado virtual (tambien puedes usar el teclado fisico).</p>
                <div class="estado" id="estadoPartida">En curso</div>
            </div>
            <div id="teclado" class="teclado" aria-label="Teclado virtual"></div>
        </section>

        <section class="panel panel-estadisticas">
            <div class="panel-cabecera">
                <h2>Estadisticas</h2>
                <p class="nota">Se guardan en localStorage.</p>
            </div>
            <div class="estadisticas-grid">
                <div class="stat"><p class="stat-label">Partidas</p><p id="statPartidas" class="stat-value">0</p></div>
                <div class="stat"><p class="stat-label">Victorias</p><p id="statVictorias" class="stat-value">0</p></div>
                <div class="stat"><p class="stat-label">Derrotas</p><p id="statDerrotas" class="stat-value">0</p></div>
                <div class="stat"><p class="stat-label">Mejor tiempo (contrarreloj)</p><p id="statMejorTiempo" class="stat-value">--</p></div>
                <div class="stat"><p class="stat-label">Mejor racha diaria</p><p id="statMejorRacha" class="stat-value">0</p></div>
            </div>
            <div class="estadisticas-modos" id="statModos"></div>
        </section>

        <section class="panel panel-logros">
            <div class="panel-cabecera">
                <h2>Logros</h2>
                <p class="nota">Completa hitos y desbloquea insignias.</p>
            </div>
            <div id="listaLogros" class="logros-grid"></div>
        </section>

        <section class="panel panel-historial">
            <div class="panel-cabecera">
                <h2>Historial</h2>
                <p class="nota">Ultimas partidas guardadas en este dispositivo.</p>
            </div>
            <div class="tabla-scroll">
                <table class="tabla">
                    <thead>
                        <tr>
                            <th>Fecha</th><th>Modo</th><th>Cat.</th><th>Dif.</th><th>Resultado</th><th>Tiempo</th>
                        </tr>
                    </thead>
                    <tbody id="historialCuerpo"></tbody>
                </table>
            </div>
        </section>

        <div class="sr-only" id="ariaEstado" aria-live="polite"></div>
    </div>

    <script type="module" src="./js/main.js"></script>
</body>
</html>
